"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
exports.LinkedEntity = void 0;
const tslib_1 = require("tslib");
class LinkedEntity {
    constructor(options) {
        const { entity } = options;
        this.entity = entity;
    }
    get(criteria, options) {
        return tslib_1.__awaiter(this, void 0, void 0, function* () {
            const { entity } = this;
            const { entity_type, entity_id } = entity;
            if (!entity_type || !entity_id) {
                return null;
            }
            const entityFactory = entity.getFactory(); // tasks
            const client = entityFactory.getClient();
            const factoryConstructors = client.getFactoryConstructors();
            const Constructor = factoryConstructors[entity_type];
            if (!Constructor) {
                return null;
            }
            const factory = new Constructor(client);
            return yield factory.getById(entity_id, criteria, options);
        });
    }
}
exports.LinkedEntity = LinkedEntity;
//# sourceMappingURL=LinkedEntity.js.map